const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Toggle-BLDjTfxY.js","assets/keyboard-spline-DWAdQOx2.js"])))=>i.map(i=>d[i]);
import{$ as u,a as $,g as K,b as W,c as A,d as x,o as R,e as C,i as g,f as T,h as f,S as k,j as P,t as d,l as N,_ as E,r as B}from"./keyboard-spline-DWAdQOx2.js";import{W as F}from"./audio-engine-QnhPrbqL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const _=Symbol("store-raw"),y=Symbol("store-node"),a=Symbol("store-has"),D=Symbol("store-self");function j(e){let t=e[u];if(!t&&(Object.defineProperty(e,u,{value:t=new Proxy(e,H)}),!Array.isArray(e))){const n=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let r=0,i=n.length;r<i;r++){const l=n[r];o[l].get&&Object.defineProperty(e,l,{enumerable:o[l].enumerable,get:o[l].get.bind(t)})}}return t}function b(e){let t;return e!=null&&typeof e=="object"&&(e[u]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function w(e,t=new Set){let n,o,r,i;if(n=e!=null&&e[_])return n;if(!b(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let l=0,c=e.length;l<c;l++)r=e[l],(o=w(r,t))!==r&&(e[l]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const l=Object.keys(e),c=Object.getOwnPropertyDescriptors(e);for(let s=0,S=l.length;s<S;s++)i=l[s],!c[i].get&&(r=e[i],(o=w(r,t))!==r&&(e[i]=o))}return e}function h(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function p(e,t,n){if(e[t])return e[t];const[o,r]=A(n,{equals:!1,internal:!0});return o.$=r,e[t]=o}function Y(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===u||t===y||(delete n.value,delete n.writable,n.get=()=>e[u][t]),n}function M(e){K()&&p(h(e,y),D)()}function q(e){return M(e),Reflect.ownKeys(e)}const H={get(e,t,n){if(t===_)return e;if(t===u)return n;if(t===$)return M(e),n;const o=h(e,y),r=o[t];let i=r?r():e[t];if(t===y||t===a||t==="__proto__")return i;if(!r){const l=Object.getOwnPropertyDescriptor(e,t);K()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(l&&l.get)&&(i=p(o,t,i)())}return b(i)?j(i):i},has(e,t){return t===_||t===u||t===$||t===y||t===a||t==="__proto__"?!0:(K()&&p(h(e,a),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:q,getOwnPropertyDescriptor:Y};function O(e,t,n,o=!1){if(!o&&e[t]===n)return;const r=e[t],i=e.length;n===void 0?(delete e[t],e[a]&&e[a][t]&&r!==void 0&&e[a][t].$()):(e[t]=n,e[a]&&e[a][t]&&r===void 0&&e[a][t].$());let l=h(e,y),c;if((c=p(l,t,r))&&c.$(()=>n),Array.isArray(e)&&e.length!==i){for(let s=e.length;s<i;s++)(c=l[s])&&c.$();(c=p(l,"length",i))&&c.$(e.length)}(c=l[D])&&c.$()}function z(e,t){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const r=n[o];O(e,r,t[r])}}function V(e,t){if(typeof t=="function"&&(t=t(e)),t=w(t),Array.isArray(t)){if(e===t)return;let n=0,o=t.length;for(;n<o;n++){const r=t[n];e[n]!==r&&O(e,n,r)}O(e,"length",o)}else z(e,t)}function m(e,t,n=[]){let o,r=e;if(t.length>1){o=t.shift();const l=typeof o,c=Array.isArray(e);if(Array.isArray(o)){for(let s=0;s<o.length;s++)m(e,[o[s]].concat(t),n);return}else if(c&&l==="function"){for(let s=0;s<e.length;s++)o(e[s],s)&&m(e,[s].concat(t),n);return}else if(c&&l==="object"){const{from:s=0,to:S=e.length-1,by:I=1}=o;for(let v=s;v<=S;v+=I)m(e,[v].concat(t),n);return}else if(t.length>1){m(e[o],t,[o].concat(n));return}r=e[o],n=[o].concat(n)}let i=t[0];typeof i=="function"&&(i=i(r,n),i===r)||o===void 0&&i==null||(i=w(i),o===void 0||b(r)&&b(i)&&!Array.isArray(i)?z(r,i):O(e,o,i))}function U(...[e,t]){const n=w(e||{}),o=Array.isArray(n),r=j(n);function i(...l){W(()=>{o&&l.length===1?V(n,l[0]):m(n,l)})}return[r,i]}const X=e=>{const[t,n]=U({isInitialized:!1,activeNotes:new Set,instrumentMode:"single-sample"});return[t,{initialize:async()=>{await e.initialize(),n("isInitialized",!0)},toggleSamplerMode:()=>{const o=t.instrumentMode==="multi-sample"?"single-sample":"multi-sample";n("instrumentMode",o),e.setSamplerMode(o)},playNote:o=>{e.playNote(o),n("activeNotes",r=>new Set(r).add(o))},stopNote:o=>{e.stopNote(o),n("activeNotes",r=>{const i=new Set(r);return i.delete(o),i})}}]},L={KeyZ:48,KeyS:49,KeyX:50,KeyD:51,KeyC:52,KeyV:53,KeyG:54,KeyB:55,KeyH:56,KeyN:57,KeyJ:58,KeyM:59,Comma:60,KeyL:61,Period:62,Semicolon:63,Slash:64,KeyQ:60,Digit2:61,KeyW:62,Digit3:63,KeyE:64,KeyR:65,Digit5:66,KeyT:67,Digit6:68,KeyY:69,Digit7:70,KeyU:71,KeyI:72,Digit9:73,KeyO:74,Digit0:75,KeyP:76,BracketLeft:77,Equal:78,BracketRight:79},G=e=>{const t=o=>{if(o.repeat)return;const r=L[o.code];r&&e.onNoteOn(r,100)},n=o=>{const r=L[o.code];r&&e.onNoteOff(r)};return x(()=>{window.addEventListener("keydown",t),window.addEventListener("keyup",n),R(()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)})}),null};var J=d('<div id=keyboardWrapper class="relative w-full max-w-[1000px] mx-auto">'),Q=d('<div class="mt-4 font-mono text-sm opacity-50">Active Notes: '),Z=d('<div class="min-h-screen bg-gray-900 text-white p-4 sm:p-8 md:p-16 flex flex-col items-center">'),ee=d('<div class="fixed top-0 w-full bg-yellow-600 text-white text-center py-2">You are currently offline. Some features may be limited.'),te=d('<div class=animate-pulse><span class="inline-block px-4 py-2 bg-gray-800 rounded">Initializing...'),ne=d('<div class="w-full h-64 bg-gray-800 animate-pulse rounded-lg">'),re=d('<div class="absolute left-1/2 -translate-x-1/2 bottom-4 w-24 h-8 bg-gray-800 animate-pulse rounded">');const oe=N(()=>E(()=>import("./keyboard-spline-DWAdQOx2.js").then(e=>e.K),[])),ie=N(()=>E(()=>import("./Toggle-BLDjTfxY.js"),__vite__mapDeps([0,1]))),le=()=>{const[e,t]=A(!1),[n,o]=A(!1),r=new F,[i,l]=X(r);return C(()=>(t(!navigator.onLine),l.initialize(),window.addEventListener("online",()=>t(!1)),window.addEventListener("offline",()=>t(!0)),()=>{window.removeEventListener("online",()=>t(!1)),window.removeEventListener("offline",()=>t(!0))})),(()=>{var c=Z();return g(c,(()=>{var s=T(()=>!!e());return()=>s()&&ee()})(),null),g(c,f(P,{get when(){return i.isInitialized},get fallback(){return te()},get children(){return[f(G,{get onNoteOn(){return l.playNote},get onNoteOff(){return l.stopNote}}),f(k,{get fallback(){return ne()},get children(){var s=J();return g(s,f(oe,{onLoad:()=>o(!0),zoom:1,offsetY:50,visibleHeight:295,class:"flex flex-col items-center rounded-lg p-8 mb-24"}),null),g(s,f(k,{get fallback(){return re()},get children(){return f(ie,{get mode(){return i.instrumentMode},get onClick(){return l.toggleSamplerMode},class:"absolute left-1/2 -translate-x-1/2 bottom-4"})}}),null),s}}),f(P,{get when(){return n()},get children(){var s=Q();return s.firstChild,g(s,()=>Array.from(i.activeNotes).join(", "),null),s}})]}}),null),c})()},se=document.getElementById("root");B(()=>f(le,{}),se);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("ServiceWorker registration successful")}).catch(e=>{console.log("ServiceWorker registration failed: ",e)})});
//# sourceMappingURL=index-D6MFNMxu.js.map
